import"./StandaloneAdminLayout.astro_astro_type_script_index_0_lang.CiBD5cOw.js";import"https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2";document.addEventListener("DOMContentLoaded",function(){console.log("ðŸ”„ Loading admin settings..."),g(),u(),console.log("âœ… Settings page loaded")});function g(){try{const n=localStorage.getItem("admin-settings");if(n){const t=JSON.parse(n);if(t.theme){const e=document.getElementById("theme-select");e&&(e.value=t.theme,l(t.theme))}if(t.language){const e=document.getElementById("language-select");e&&(e.value=t.language,m(t.language))}if(t.timezone){const e=document.getElementById("timezone-select");e&&(e.value=t.timezone,r(t.timezone))}if(t.emailNotifications!==void 0){const e=document.getElementById("email-notifications");e&&(e.checked=t.emailNotifications)}if(t.orderNotifications!==void 0){const e=document.getElementById("order-notifications");e&&(e.checked=t.orderNotifications)}if(t.ticketNotifications!==void 0){const e=document.getElementById("ticket-notifications");e&&(e.checked=t.ticketNotifications)}}}catch(n){console.error("Error loading settings:",n)}}function u(){const n=document.getElementById("save-settings");n&&n.addEventListener("click",i);const t=document.getElementById("theme-select");t&&t.addEventListener("change",function(){l(this.value),i()});const e=document.getElementById("language-select");e&&e.addEventListener("change",function(){m(this.value),i()});const o=document.getElementById("timezone-select");o&&o.addEventListener("change",function(){r(this.value),i()});const c=document.getElementById("email-notifications");c&&c.addEventListener("change",i);const s=document.getElementById("order-notifications");s&&s.addEventListener("change",i);const a=document.getElementById("ticket-notifications");a&&a.addEventListener("change",i)}function i(){try{const n={theme:document.getElementById("theme-select")?.value||"auto",language:document.getElementById("language-select")?.value||"en",timezone:document.getElementById("timezone-select")?.value||"UTC",emailNotifications:document.getElementById("email-notifications")?.checked||!0,orderNotifications:document.getElementById("order-notifications")?.checked||!0,ticketNotifications:document.getElementById("ticket-notifications")?.checked||!0};localStorage.setItem("admin-settings",JSON.stringify(n)),d("Settings saved!","success"),console.log("Settings saved:",n)}catch(n){console.error("Error saving settings:",n),d("Error saving settings","error")}}function l(n){const t=document.body,e=document.documentElement;!t||!e||(t.classList.remove("light-theme","dark-theme"),e.classList.remove("light-theme","dark-theme"),n==="dark"?(t.classList.add("dark-theme"),e.classList.add("dark-theme")):n==="light"?(t.classList.add("light-theme"),e.classList.add("light-theme")):n==="auto"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?(t.classList.add("dark-theme"),e.classList.add("dark-theme")):(t.classList.add("light-theme"),e.classList.add("light-theme"))))}function m(n){document.documentElement.lang=n}function r(n){window.adminTimezone=n}function d(n,t="info"){const e=document.createElement("div");e.className=`fixed top-4 right-4 px-6 py-3 rounded-md text-white z-50 ${t==="success"?"bg-green-500":t==="error"?"bg-red-500":t==="warning"?"bg-yellow-500":"bg-blue-500"}`,e.textContent=n,document.body.appendChild(e),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},3e3)}
