import{s as x}from"./supabase.DNQg-7fe.js";import"./hoisted.CaEvvjRJ.js";const c=document.getElementById("signup-form"),o=document.getElementById("error-message"),e=document.getElementById("error-text"),m=new URLSearchParams(window.location.search),i=m.get("message"),C=m.get("type")||"success";i&&(C==="error"?(e&&(e.textContent=i),o?.classList.remove("hidden")):typeof window.showToast=="function"&&window.showToast(i,"success"),window.history.replaceState({},document.title,window.location.pathname));c?.addEventListener("submit",async w=>{w.preventDefault();const t=new FormData(c),p=t.get("email"),r=t.get("password"),f=t.get("confirm_password"),g=t.get("full_name"),h=t.get("phone"),y=t.get("company_name");if(o?.classList.add("hidden"),r!==f){e&&(e.textContent="Passwords do not match."),o?.classList.remove("hidden");return}if(r.length<6){e&&(e.textContent="Password must be at least 6 characters long."),o?.classList.remove("hidden");return}const s=c.querySelector('button[type="submit"]'),v=s.textContent;s.disabled=!0,s.innerHTML=`
        <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
        Creating account...
      `;try{const{data:a,error:d}=await x.auth.signUp({email:p,password:r,options:{data:{full_name:g,phone:h,company_name:y}}});if(d)throw d;a.user&&(typeof window.showToast=="function"&&window.showToast("Account created successfully! Welcome to DevExpress!","success",3e3),setTimeout(()=>{window.location.href="/dashboard"},2e3))}catch(a){console.error("Signup error:",a),e&&(e.textContent=a.message||"An error occurred during account creation."),o?.classList.remove("hidden"),s.disabled=!1,s.textContent=v}});const l=document.getElementById("password"),n=document.getElementById("confirm_password"),u=()=>{n.value&&l.value!==n.value?n.setCustomValidity("Passwords do not match"):n.setCustomValidity("")};l?.addEventListener("input",u);n?.addEventListener("input",u);
